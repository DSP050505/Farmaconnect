{"ast":null,"code":"import _objectSpread from\"C:/Users/Devi Sri Prasad/Desktop/Farmaconnect/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function FarmerProductForm(_ref){let{onProductAdded}=_ref;const[form,setForm]=useState({name:'',description:'',crop_type:'',price:'',quantity:'',unit:'',location:'',image:null});const[loading,setLoading]=useState(false);const[error,setError]=useState('');const[success,setSuccess]=useState('');const handleChange=e=>{const{name,value,files}=e.target;if(name==='image'){setForm(f=>_objectSpread(_objectSpread({},f),{},{image:files[0]}));}else{setForm(f=>_objectSpread(_objectSpread({},f),{},{[name]:value}));}};const handleSubmit=async e=>{e.preventDefault();setLoading(true);setError('');setSuccess('');try{const token=localStorage.getItem('token');const data=new FormData();Object.entries(form).forEach(_ref2=>{let[key,value]=_ref2;if(value)data.append(key,value);});const res=await fetch('http://localhost:5000/api/products/add',{method:'POST',headers:{Authorization:\"Bearer \".concat(token)},body:data});const result=await res.json();if(!result.success){setError(result.message||'Failed to add product');}else{setSuccess('Product added successfully!');setForm({name:'',description:'',crop_type:'',price:'',quantity:'',unit:'',location:'',image:null});if(onProductAdded)onProductAdded(result.product);}}catch(err){setError('Network error');}setLoading(false);};return/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"mb-4 border p-3 rounded bg-light shadow-sm\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"mb-3\",children:\"Add New Product\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6 mb-3\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",name:\"name\",placeholder:\"Product Name\",value:form.name,onChange:handleChange,required:true})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6 mb-3\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",name:\"crop_type\",placeholder:\"Crop Type\",value:form.crop_type,onChange:handleChange,required:true})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6 mb-3\",children:/*#__PURE__*/_jsx(\"input\",{type:\"number\",className:\"form-control\",name:\"price\",placeholder:\"Price\",value:form.price,onChange:handleChange,required:true})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6 mb-3\",children:/*#__PURE__*/_jsx(\"input\",{type:\"number\",className:\"form-control\",name:\"quantity\",placeholder:\"Quantity\",value:form.quantity,onChange:handleChange,required:true})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6 mb-3\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",name:\"unit\",placeholder:\"Unit (e.g. kg, quintal)\",value:form.unit,onChange:handleChange,required:true})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6 mb-3\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",name:\"location\",placeholder:\"Location (optional)\",value:form.location,onChange:handleChange})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-12 mb-3\",children:/*#__PURE__*/_jsx(\"textarea\",{className:\"form-control\",name:\"description\",placeholder:\"Description (optional)\",value:form.description,onChange:handleChange,rows:2})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-12 mb-3\",children:/*#__PURE__*/_jsx(\"input\",{type:\"file\",className:\"form-control\",name:\"image\",accept:\"image/*\",onChange:handleChange})})]}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-danger\",children:error}),success&&/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-success\",children:success}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-success\",disabled:loading,children:loading?'Adding...':'Add Product'})]});}export default FarmerProductForm;","map":{"version":3,"names":["React","useState","jsx","_jsx","jsxs","_jsxs","FarmerProductForm","_ref","onProductAdded","form","setForm","name","description","crop_type","price","quantity","unit","location","image","loading","setLoading","error","setError","success","setSuccess","handleChange","e","value","files","target","f","_objectSpread","handleSubmit","preventDefault","token","localStorage","getItem","data","FormData","Object","entries","forEach","_ref2","key","append","res","fetch","method","headers","Authorization","concat","body","result","json","message","product","err","onSubmit","className","children","type","placeholder","onChange","required","rows","accept","disabled"],"sources":["C:/Users/Devi Sri Prasad/Desktop/Farmaconnect/client/src/FarmerProductForm.js"],"sourcesContent":["import React, { useState } from 'react';\n\nfunction FarmerProductForm({ onProductAdded }) {\n  const [form, setForm] = useState({\n    name: '',\n    description: '',\n    crop_type: '',\n    price: '',\n    quantity: '',\n    unit: '',\n    location: '',\n    image: null\n  });\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n  const [success, setSuccess] = useState('');\n\n  const handleChange = e => {\n    const { name, value, files } = e.target;\n    if (name === 'image') {\n      setForm(f => ({ ...f, image: files[0] }));\n    } else {\n      setForm(f => ({ ...f, [name]: value }));\n    }\n  };\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setLoading(true);\n    setError('');\n    setSuccess('');\n    try {\n      const token = localStorage.getItem('token');\n      const data = new FormData();\n      Object.entries(form).forEach(([key, value]) => {\n        if (value) data.append(key, value);\n      });\n      const res = await fetch('http://localhost:5000/api/products/add', {\n        method: 'POST',\n        headers: { Authorization: `Bearer ${token}` },\n        body: data\n      });\n      const result = await res.json();\n      if (!result.success) {\n        setError(result.message || 'Failed to add product');\n      } else {\n        setSuccess('Product added successfully!');\n        setForm({ name: '', description: '', crop_type: '', price: '', quantity: '', unit: '', location: '', image: null });\n        if (onProductAdded) onProductAdded(result.product);\n      }\n    } catch (err) {\n      setError('Network error');\n    }\n    setLoading(false);\n  };\n\n  return (\n    <form onSubmit={handleSubmit} className=\"mb-4 border p-3 rounded bg-light shadow-sm\">\n      <h5 className=\"mb-3\">Add New Product</h5>\n      <div className=\"row\">\n        <div className=\"col-md-6 mb-3\">\n          <input type=\"text\" className=\"form-control\" name=\"name\" placeholder=\"Product Name\" value={form.name} onChange={handleChange} required />\n        </div>\n        <div className=\"col-md-6 mb-3\">\n          <input type=\"text\" className=\"form-control\" name=\"crop_type\" placeholder=\"Crop Type\" value={form.crop_type} onChange={handleChange} required />\n        </div>\n        <div className=\"col-md-6 mb-3\">\n          <input type=\"number\" className=\"form-control\" name=\"price\" placeholder=\"Price\" value={form.price} onChange={handleChange} required />\n        </div>\n        <div className=\"col-md-6 mb-3\">\n          <input type=\"number\" className=\"form-control\" name=\"quantity\" placeholder=\"Quantity\" value={form.quantity} onChange={handleChange} required />\n        </div>\n        <div className=\"col-md-6 mb-3\">\n          <input type=\"text\" className=\"form-control\" name=\"unit\" placeholder=\"Unit (e.g. kg, quintal)\" value={form.unit} onChange={handleChange} required />\n        </div>\n        <div className=\"col-md-6 mb-3\">\n          <input type=\"text\" className=\"form-control\" name=\"location\" placeholder=\"Location (optional)\" value={form.location} onChange={handleChange} />\n        </div>\n        <div className=\"col-12 mb-3\">\n          <textarea className=\"form-control\" name=\"description\" placeholder=\"Description (optional)\" value={form.description} onChange={handleChange} rows={2} />\n        </div>\n        <div className=\"col-12 mb-3\">\n          <input type=\"file\" className=\"form-control\" name=\"image\" accept=\"image/*\" onChange={handleChange} />\n        </div>\n      </div>\n      {error && <div className=\"alert alert-danger\">{error}</div>}\n      {success && <div className=\"alert alert-success\">{success}</div>}\n      <button type=\"submit\" className=\"btn btn-success\" disabled={loading}>{loading ? 'Adding...' : 'Add Product'}</button>\n    </form>\n  );\n}\n\nexport default FarmerProductForm; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}