{"ast":null,"code":"import React,{useState}from'react';import{BrowserRouter as Router,Routes,Route,Navigate,useNavigate}from'react-router-dom';import LoginPage from'./LoginPage';import RegisterPage from'./RegisterPage';import FarmerDashboard from'./FarmerDashboard';import BuyerDashboard from'./BuyerDashboard';import LandingPage from'./LandingPage';import ProfilePage from'./ProfilePage';import ContactPage from'./ContactPage';import'bootstrap/dist/css/bootstrap.min.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[user,setUser]=useState(()=>{const u=localStorage.getItem('user');return u?JSON.parse(u):null;});const handleLogin=user=>{setUser(user);window.location.href=user.role==='farmer'?'/farmer/dashboard':'/buyer/dashboard';};const handleLogout=()=>{localStorage.removeItem('token');localStorage.removeItem('user');setUser(null);window.location.href='/login';};return/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/login\",element:/*#__PURE__*/_jsx(LoginPage,{onLogin:handleLogin})}),/*#__PURE__*/_jsx(Route,{path:\"/register\",element:/*#__PURE__*/_jsx(RegisterPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"/farmer/dashboard\",element:user&&user.role==='farmer'?/*#__PURE__*/_jsx(FarmerDashboard,{user:user,onLogout:handleLogout}):/*#__PURE__*/_jsx(Navigate,{to:\"/login\"})}),/*#__PURE__*/_jsx(Route,{path:\"/buyer/dashboard\",element:user&&user.role==='buyer'?/*#__PURE__*/_jsx(BuyerDashboard,{user:user,onLogout:handleLogout}):/*#__PURE__*/_jsx(Navigate,{to:\"/login\"})}),/*#__PURE__*/_jsx(Route,{path:\"/profile\",element:user?/*#__PURE__*/_jsx(ProfilePage,{user:user}):/*#__PURE__*/_jsx(Navigate,{to:\"/login\"})}),/*#__PURE__*/_jsx(Route,{path:\"/contact\",element:/*#__PURE__*/_jsx(ContactPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(LandingPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"*\",element:/*#__PURE__*/_jsx(Navigate,{to:\"/\"})})]})});}export default App;","map":{"version":3,"names":["React","useState","BrowserRouter","Router","Routes","Route","Navigate","useNavigate","LoginPage","RegisterPage","FarmerDashboard","BuyerDashboard","LandingPage","ProfilePage","ContactPage","jsx","_jsx","jsxs","_jsxs","App","user","setUser","u","localStorage","getItem","JSON","parse","handleLogin","window","location","href","role","handleLogout","removeItem","children","path","element","onLogin","onLogout","to"],"sources":["C:/Users/Devi Sri Prasad/Desktop/Farmaconnect/client/src/App.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { BrowserRouter as Router, Routes, Route, Navigate, useNavigate } from 'react-router-dom';\nimport LoginPage from './LoginPage';\nimport RegisterPage from './RegisterPage';\nimport FarmerDashboard from './FarmerDashboard';\nimport BuyerDashboard from './BuyerDashboard';\nimport LandingPage from './LandingPage';\nimport ProfilePage from './ProfilePage';\nimport ContactPage from './ContactPage';\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nfunction App() {\n  const [user, setUser] = useState(() => {\n    const u = localStorage.getItem('user');\n    return u ? JSON.parse(u) : null;\n  });\n\n  const handleLogin = (user) => {\n    setUser(user);\n    window.location.href = user.role === 'farmer' ? '/farmer/dashboard' : '/buyer/dashboard';\n  };\n\n  const handleLogout = () => {\n    localStorage.removeItem('token');\n    localStorage.removeItem('user');\n    setUser(null);\n    window.location.href = '/login';\n  };\n\n  return (\n    <Router>\n      <Routes>\n        <Route path=\"/login\" element={<LoginPage onLogin={handleLogin} />} />\n        <Route path=\"/register\" element={<RegisterPage />} />\n        {/* Placeholder dashboards */}\n        <Route path=\"/farmer/dashboard\" element={user && user.role === 'farmer' ? <FarmerDashboard user={user} onLogout={handleLogout} /> : <Navigate to=\"/login\" />} />\n        <Route path=\"/buyer/dashboard\" element={user && user.role === 'buyer' ? <BuyerDashboard user={user} onLogout={handleLogout} /> : <Navigate to=\"/login\" />} />\n        <Route path=\"/profile\" element={user ? <ProfilePage user={user} /> : <Navigate to=\"/login\" />} />\n        <Route path=\"/contact\" element={<ContactPage />} />\n        <Route path=\"/\" element={<LandingPage />} />\n        {/* Default route */}\n        <Route path=\"*\" element={<Navigate to=\"/\" />} />\n      </Routes>\n    </Router>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}