{"ast":null,"code":"import React,{useState}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";function OrderModal(_ref){let{show,onClose,product,onOrderPlaced}=_ref;const[quantity,setQuantity]=useState(1);const[loading,setLoading]=useState(false);const[error,setError]=useState('');const[success,setSuccess]=useState('');const API_URL=process.env.REACT_APP_API_URL;if(!show||!product)return null;const handleSubmit=async e=>{e.preventDefault();setLoading(true);setError('');setSuccess('');try{const token=localStorage.getItem('token');const res=await fetch(\"\".concat(API_URL,\"/orders/place\"),{method:'POST',headers:{'Content-Type':'application/json',Authorization:\"Bearer \".concat(token)},body:JSON.stringify({product_id:product.id,quantity})});if(res.ok){setSuccess('Order placed successfully!');onOrderPlaced(product);}else{setError('Failed to place order.');}}catch(e){setError('An error occurred.');}finally{setLoading(false);}};return/*#__PURE__*/_jsx(\"div\",{className:\"modal\"});}export default OrderModal;","map":{"version":3,"names":["React","useState","jsx","_jsx","OrderModal","_ref","show","onClose","product","onOrderPlaced","quantity","setQuantity","loading","setLoading","error","setError","success","setSuccess","API_URL","process","env","REACT_APP_API_URL","handleSubmit","e","preventDefault","token","localStorage","getItem","res","fetch","concat","method","headers","Authorization","body","JSON","stringify","product_id","id","ok","className"],"sources":["C:/Users/Devi Sri Prasad/Desktop/Farmaconnect/client/src/OrderModal.js"],"sourcesContent":["import React, { useState } from 'react';\n\nfunction OrderModal({ show, onClose, product, onOrderPlaced }) {\n  const [quantity, setQuantity] = useState(1);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n  const [success, setSuccess] = useState('');\n\n  const API_URL = process.env.REACT_APP_API_URL;\n\n  if (!show || !product) return null;\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setLoading(true);\n    setError('');\n    setSuccess('');\n    try {\n      const token = localStorage.getItem('token');\n      const res = await fetch(`${API_URL}/orders/place`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: `Bearer ${token}`\n        },\n        body: JSON.stringify({ product_id: product.id, quantity })\n      });\n      if (res.ok) {\n        setSuccess('Order placed successfully!');\n        onOrderPlaced(product);\n      } else {\n        setError('Failed to place order.');\n      }\n    } catch (e) {\n      setError('An error occurred.');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"modal\">\n      {/* Render your modal content here */}\n    </div>\n  );\n}\n\nexport default OrderModal;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAExC,QAAS,CAAAC,UAAUA,CAAAC,IAAA,CAA4C,IAA3C,CAAEC,IAAI,CAAEC,OAAO,CAAEC,OAAO,CAAEC,aAAc,CAAC,CAAAJ,IAAA,CAC3D,KAAM,CAACK,QAAQ,CAAEC,WAAW,CAAC,CAAGV,QAAQ,CAAC,CAAC,CAAC,CAC3C,KAAM,CAACW,OAAO,CAAEC,UAAU,CAAC,CAAGZ,QAAQ,CAAC,KAAK,CAAC,CAC7C,KAAM,CAACa,KAAK,CAAEC,QAAQ,CAAC,CAAGd,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAACe,OAAO,CAAEC,UAAU,CAAC,CAAGhB,QAAQ,CAAC,EAAE,CAAC,CAE1C,KAAM,CAAAiB,OAAO,CAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB,CAE7C,GAAI,CAACf,IAAI,EAAI,CAACE,OAAO,CAAE,MAAO,KAAI,CAElC,KAAM,CAAAc,YAAY,CAAG,KAAM,CAAAC,CAAC,EAAI,CAC9BA,CAAC,CAACC,cAAc,CAAC,CAAC,CAClBX,UAAU,CAAC,IAAI,CAAC,CAChBE,QAAQ,CAAC,EAAE,CAAC,CACZE,UAAU,CAAC,EAAE,CAAC,CACd,GAAI,CACF,KAAM,CAAAQ,KAAK,CAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAC3C,KAAM,CAAAC,GAAG,CAAG,KAAM,CAAAC,KAAK,IAAAC,MAAA,CAAIZ,OAAO,kBAAiB,CACjDa,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CACP,cAAc,CAAE,kBAAkB,CAClCC,aAAa,WAAAH,MAAA,CAAYL,KAAK,CAChC,CAAC,CACDS,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CAAEC,UAAU,CAAE7B,OAAO,CAAC8B,EAAE,CAAE5B,QAAS,CAAC,CAC3D,CAAC,CAAC,CACF,GAAIkB,GAAG,CAACW,EAAE,CAAE,CACVtB,UAAU,CAAC,4BAA4B,CAAC,CACxCR,aAAa,CAACD,OAAO,CAAC,CACxB,CAAC,IAAM,CACLO,QAAQ,CAAC,wBAAwB,CAAC,CACpC,CACF,CAAE,MAAOQ,CAAC,CAAE,CACVR,QAAQ,CAAC,oBAAoB,CAAC,CAChC,CAAC,OAAS,CACRF,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAED,mBACEV,IAAA,QAAKqC,SAAS,CAAC,OAAO,CAEjB,CAAC,CAEV,CAEA,cAAe,CAAApC,UAAU","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}